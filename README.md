# 互联网软件开发期末小项目

## 部署信息

    1.服务器信息：
    
        项目利用宝塔辅助搭建在单核2G的腾讯云服务器上，并在腾讯云安全组中放通了所有端口。
        
    2.版本说明：
    
        · 系统版本：CentOS 7.6.1810 (Py3.7.8)
        · Web服务器版本：Apache 2.4.46
        · ThinkPHP框架版本：5.0.24
        · PHP语言版本：7.2
        · MySQL数据库版本：5.5.62
        · Erlang版本：otp_src_20.3
        · RabbitMQ版本：3.6.15
        · Captcha版本（ThinkPHP中的验证码包）：1.*

    3. 注意事项：
        
        · www.homework.com以及www.homework-admin.com为两个完全独立的ThinkPHP项目，并共享部分数据库
        · www.homework.com是用户秒杀系统
        · www.homework-admin.com是后台管理系统
        · 安装RabbitMQ之前一定要安装Erlang
        · Captcha 1.* 对应ThinkPHP 5.0 版本（本项目中对应该版本），Captcha 2 对应ThinkPHP 5.1 版本

## 一、项目介绍

    1.项目主题

        项目主题为商品抢购系统。

    2.系统结构

        项目主要包括两个系统，其一是用户端，其二是后台管理端。用户在用户端进行抢购行为；管理员在后台进行商品、用户信息的管理行为。

    3.技术栈

        后端采用ThinkPHP框架，数据库采用MySQL，消息队列使用RabbitMQ，前端页面基于开源项目XAdmin的html页面进行辅助开发。项目涉及语言包括PHP、JavaScript、Go等。


## 二、系统功能

    1.后台管理系统

        （1）用户信息管理功能
        （2）商品信息管理功能
        （3）购买记录管理功能
        （4）网站日志管理功能

    2.用户秒杀系统

        （1）商品抢购功能
        （2）用户订单查看功能
        （3）购物车功能

## 三、性能优化策略及实现

    1.消息队列

        采用RabbitMQ消息队列存储业务逻辑信息。以“生产者—消费者”的形式优化高并发情况下的业务处理逻辑，减轻服务器压力，提高并发量。

    2.SQL处理分离机制

        · 以PHP框架端作为生产者，控制器将所需处理得信息以JSON格式存入RabbitMQ消息队列。
        · Go语言将作为消费者，程序从RabbitMQ消息队列取出消息，并执行相关数据库增、删、改、查操作。

## 四、应用安全策略及实现

    1.登录及已登录的权限验证机制

        在控制器构造方法中实现安全验证机制——用户直接进入任何页面前都将进行: token登录状态验证、角色权限验证。

    2.验证码

        用户端购买商品及管理端修改数据时，均需要进行验证码测试：

    3.Token

        将采用Token进行用户登录状态的验证。

    4.加密机制

        关键数据将至少采用1-2次md5加密机制。
 
 
